# Vikunja ü¶ô

## Handle vikunja docker image via an auxiliary container

```bash
‚îå‚îÄ> Ôåí  vv at Ó¨Å vv-minipc in @192.168.10.95 ~
‚ú¶ ‚ùØ docker run --rm -it --network=todo_default --volumes-from vikunja alpine sh

/ # apk add --no-cache curl
fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/community/x86_64/APKINDEX.tar.gz
(1/9) Installing brotli-libs (1.1.0-r2)
(2/9) Installing c-ares (1.34.5-r0)
(3/9) Installing libunistring (1.2-r0)
(4/9) Installing libidn2 (2.3.7-r0)
(5/9) Installing nghttp2-libs (1.64.0-r0)
(6/9) Installing libpsl (0.21.5-r3)
(7/9) Installing zstd-libs (1.5.6-r2)
(8/9) Installing libcurl (8.12.1-r1)
(9/9) Installing curl (8.12.1-r1)
Executing busybox-1.37.0-r12.trigger
OK: 12 MiB in 24 packages
/ #    local
sh: local: not in a function
/ # 5813a059464c   speedtest_default        bridge    local
sh: 5813a059464c: not found
/ # a8bfb2ac857e   todo_default             bridge    local
sh: a8bfb2ac857e: not found
/ # de364caa5421   vaultwarden_default      bridge    local
sh: de364caa5421: not found
/ # c502eb1f5311   wireguard_default        bridge    local
sh: c502eb1f5311: not found
/ # ^C

/ # curl -k https://auth.home.lab/.well-known/openid-configuration
{"issuer":"https://auth.home.lab","jwks_uri":"https://auth.home.lab/jwks.json","authorization_endpoint":"https://auth.home.lab/api/oidc/authorization","token_endpoint":"https://auth.home.lab/api/oidc/token","subject_types_supported":["public","pairwise"],"response_types_supported":["code","id_token","token","id_token token","code id_token","code token","code id_token token"],"grant_types_supported":["authorization_code","implicit","client_credentials","refresh_token","urn:ietf:params:oauth:grant-type:device_code"],"response_modes_supported":["form_post","query","fragment","jwt","form_post.jwt","query.jwt","fragment.jwt"],"scopes_supported":["offline_access","openid","profile","email","address","phone","groups"],"claims_supported":["amr","aud","azp","client_id","exp","iat","iss","jti","rat","auth_time","nonce","groups","sub","name","given_name","family_name","middle_name","nickname","preferred_username","profile","picture","website","email","email_verified","alt_emails","gender","birthdate","zoneinfo","locale","phone_number","phone_number_verified","address","updated_at"],"token_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post","client_secret_jwt","private_key_jwt","none"],"token_endpoint_auth_signing_alg_values_supported":["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512"],"introspection_endpoint":"https://auth.home.lab/api/oidc/introspection","revocation_endpoint":"https://auth.home.lab/api/oidc/revocation","introspection_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post","client_secret_jwt","private_key_jwt"],"revocation_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post","client_secret_jwt","private_key_jwt","none"],"revocation_endpoint_auth_signing_alg_values_supported":["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512"],"code_challenge_methods_supported":["S256"],"device_authorization_endpoint":"https://auth.home.lab/api/oidc/device-authorization","authorization_response_iss_parameter_supported":true,"introspection_signing_alg_values_supported":["RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none"],"introspection_encryption_alg_values_supported":["RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],"introspection_encryption_enc_values_supported":["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128GCM","A192GCM","A256GCM"],"pushed_authorization_request_endpoint":"https://auth.home.lab/api/oidc/pushed-authorization-request","require_pushed_authorization_requests":false,"id_token_signing_alg_values_supported":["RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none"],"id_token_encryption_alg_values_supported":["RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],"id_token_encryption_enc_values_supported":["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128GCM","A192GCM","A256GCM"],"userinfo_endpoint":"https://auth.home.lab/api/oidc/userinfo","userinfo_signing_alg_values_supported":["RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none"],"userinfo_encryption_alg_values_supported":["RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],"userinfo_encryption_enc_values_supported":["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128GCM","A192GCM","A256GCM"],"request_object_signing_alg_values_supported":["RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none"],"request_object_encryption_alg_values_supported":["RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],"request_object_encryption_enc_values_supported":["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128GCM","A192GCM","A256GCM"],"claim_types_supported":["normal"],"request_parameter_supported":true,"request_uri_parameter_supported":true,"require_request_uri_registration":true,"claims_parameter_supported":true,"prompt_values_supported":["consent","login","none","select_account"],"authorization_signing_alg_values_supported":["RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512"],"authorization_encryption_alg_values_supported":["RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],"authorization_encryption_enc_values_supported":["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128GCM","A192GCM","A256GCM"]}/ #
/ # ls
app    bin    dev    etc    home   lib    media  mnt    opt    proc   root   run    sbin   srv    sys    tmp    usr    var
/ # ls /app/
vikunja
/ # ls /etc/
alpine-release    crontabs/         hostname          issue             modules           mtab              opt/              periodic/         protocols         securetty         shells            sysctl.conf       vikunja/
apk/              fstab             hosts             logrotate.d/      modules-load.d/   network/          os-release        profile           resolv.conf       services          ssl/              sysctl.d/
busybox-paths.d/  group             inittab           modprobe.d/       motd              nsswitch.conf     passwd            profile.d/        secfixes.d/       shadow            ssl1.1/           udhcpc/
/ # ls /etc/vikunja/config.yml
/etc/vikunja/config.yml
/ # cat /etc/vikunja/config.yml
auth:
  openid:
    enabled: true
    redirecturl: 'https://vikunja.home.lab/auth/openid/'
    providers:
      - name: 'Authelia'
        authurl: 'https://auth.home.lab'
        clientid: 'vikunja'
        clientsecret: 'insecure_secret'
        scope: 'openid profile email'
/ #
```
# Troubleshooting

## server misbehaving

This is a container's dns resolution problem.

```
`Error during connect to smtp server: dial tcp: lookup smtp.gmail.com on 127.0.0.11:53: server misbehaving`
```

Solution is pretty simple:

On `/etc/resolv.conf` just add your `DNS` server, or change the `ip address` where your DNS server lives